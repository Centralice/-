{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function createMarkup(images) {\n  return `<ul class=\"img-list\">${images\n    .map(\n      img => `<li class=\"item\"><a class=\"link\" href=\"${img.largeImageURL}\"><img class=\"image\"\n//        src=\"${img.webformatURL}\" alt=\"${img.tags}\"></a><div class=\"info\"><div><h3>Likes</h3><p>${img.likes}</p></div><div><h3>Views</h3><p>${img.views}</p></div><div><h3>Comments</h3><p>${img.comments}</p></div><div><h3>Downloads</h3><p>${img.downloads}</p></div></div></li>`\n    )\n    .join('')}</ul>`;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport axios from 'axios';\n\nimport { createMarkup } from '/js/render-functions';\n\nconst loader = document.querySelector('.loader');\n\n\n\nexport async function getImages(query) {\n  const params = {\n    key: '44273329-392765d5a069e216bf7d20a4c',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n  const url = `https://pixabay.com/api/?${params}`;\n\n  loader.classList.add('is-on');\n\n  try {\n    const response = await axios(url, { params });\n    if (response.data.hits.length) {\n      const container = document.querySelector('.container');\n      createMarkup(response.data.hits);\n      container.insertAdjacentHTML(\n        'beforeend',\n        createMarkup(response.data.hits)\n      );\n      const lightbox = new SimpleLightbox('.container a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      lightbox.refresh();\n    } else {\n      iziToast.error({\n        message: 'Sorry, there are no images matching your search query',\n        messageColor: '#ffffff',\n        backgroundColor: '#0077b6',\n        position: 'topRight',\n        timeout: 5000,\n      });\n    }\n  } catch (error) {\n    console.log(error.message);\n  } finally {\n    loader.classList.remove('is-on');\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImages } from './js/pixabay-api';\n\nconst formEl = document.querySelector('.search-form');\nconst container = document.querySelector('.container');\n\nformEl.addEventListener('submit', handleSearch);\n\n\nasync function handleSearch(event) {\n  event.preventDefault();\n\n  container.innerHTML = '';\n  const query = event.target.elements.search.value.trim();\n\n  try {\n    if(!query) {\n      iziToast.error({\n      message: 'Ay caramba! No empty fields, please',\n      messageColor: '#ffffff',\n      backgroundColor: '#d00000',\n      position: 'topRight',\n      timeout: 5000,\n    });  \n    } else {\n      getImages(query);\n      formEl.reset();\n    }\n  }\n  catch(error) {\n    console.log(error);\n  }\n}\n"],"names":["createMarkup","images","img","loader","getImages","query","params","url","response","axios","container","SimpleLightbox","iziToast","error","formEl","handleSearch","event"],"mappings":"owBAAO,SAASA,EAAaC,EAAQ,CACnC,MAAO,wBAAwBA,EAC5B,IACCC,GAAO,0CAA0CA,EAAI,aAAa;AAAA,iBACvDA,EAAI,YAAY,UAAUA,EAAI,IAAI,iDAAiDA,EAAI,KAAK,mCAAmCA,EAAI,KAAK,sCAAsCA,EAAI,QAAQ,uCAAuCA,EAAI,SAAS,uBAC1P,EACA,KAAK,EAAE,CAAC,OACb,CCGA,MAAMC,EAAS,SAAS,cAAc,SAAS,EAIxC,eAAeC,EAAUC,EAAO,CACrC,MAAMC,EAAS,CACb,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EACQE,EAAM,4BAA4BD,CAAM,GAE9CH,EAAO,UAAU,IAAI,OAAO,EAE5B,GAAI,CACF,MAAMK,EAAW,MAAMC,EAAMF,EAAK,CAAE,OAAAD,CAAQ,CAAA,EAC5C,GAAIE,EAAS,KAAK,KAAK,OAAQ,CAC7B,MAAME,EAAY,SAAS,cAAc,YAAY,EACrDV,EAAaQ,EAAS,KAAK,IAAI,EAC/BE,EAAU,mBACR,YACAV,EAAaQ,EAAS,KAAK,IAAI,CACvC,EACuB,IAAIG,EAAe,eAAgB,CAClD,aAAc,MACd,aAAc,GACtB,CAAO,EACQ,QAAO,CACtB,MACMC,EAAS,MAAM,CACb,QAAS,wDACT,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,QAAS,GACjB,CAAO,CAEJ,OAAQC,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC7B,QAAY,CACRV,EAAO,UAAU,OAAO,OAAO,CAChC,CACH,CCjDA,MAAMW,EAAS,SAAS,cAAc,cAAc,EAC9CJ,EAAY,SAAS,cAAc,YAAY,EAErDI,EAAO,iBAAiB,SAAUC,CAAY,EAG9C,eAAeA,EAAaC,EAAO,CACjCA,EAAM,eAAc,EAEpBN,EAAU,UAAY,GACtB,MAAML,EAAQW,EAAM,OAAO,SAAS,OAAO,MAAM,OAEjD,GAAI,CACEX,GASFD,EAAUC,CAAK,EACfS,EAAO,MAAK,GATZF,EAAS,MAAM,CACf,QAAS,sCACT,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,QAAS,GACf,CAAK,CAKF,OACKC,EAAO,CACX,QAAQ,IAAIA,CAAK,CAClB,CACH"}